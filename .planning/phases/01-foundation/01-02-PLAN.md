---
phase: 01-foundation
plan: 02
type: execute
---

<objective>
Build the shared navigation shell with sidebar, header, and React Router page routing.

Purpose: Establish the application frame that all three views (Dashboard, Rate Card, AI Assistant) live inside.
Output: Working sidebar navigation with routing between stub pages, enterprise branding applied.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-01-SUMMARY.md

**Design requirements from PROJECT.md:**
- Dark sidebar (zinc-900/950), light content area (white/zinc-50)
- "Phase 1 Discovery Intelligence Report" in header
- "CONFIDENTIAL" label visible
- Enterprise B2B aesthetic (Stripe/Linear style)
- Sidebar nav links: Historical Intelligence Dashboard, Rate Card Explorer, AI Scoping Assistant
- DriveShop branding in sidebar header
- Desktop-only layout

**Tech available (from Plan 01):**
- Vite + React + TypeScript
- Tailwind CSS + shadcn/ui (button, card, table, tabs, input, badge, separator)
- react-router-dom, lucide-react
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create app layout with sidebar navigation and header</name>
  <files>src/App.tsx, src/components/layout/Sidebar.tsx, src/components/layout/Header.tsx, src/components/layout/AppLayout.tsx</files>
  <action>
Create `src/components/layout/AppLayout.tsx` as the root layout wrapper:
- Fixed sidebar on the left (w-64, full height)
- Header bar across the top of the content area
- Main content area fills remaining space with overflow-y-auto
- Use flexbox: sidebar fixed left, right side is flex-col (header + main)

Create `src/components/layout/Sidebar.tsx`:
- Background: zinc-900 with zinc-50 text
- Top section: "DriveShop" text (bold, text-lg) with a subtle divider below
- Navigation links using lucide-react icons:
  - BarChart3 icon → "Historical Dashboard" → `/dashboard`
  - ClipboardList icon → "Rate Card Explorer" → `/rate-card`
  - Bot icon → "AI Scoping Assistant" → `/ai-assistant`
- Active link gets a zinc-800 background + blue-400 left border accent (4px)
- Inactive links: zinc-400 text, hover zinc-300
- Use `NavLink` from react-router-dom for active state detection
- Bottom of sidebar: small muted text "Phase 1 Discovery" with version/date

Create `src/components/layout/Header.tsx`:
- White/zinc-50 background with bottom border (zinc-200)
- Left side: Page title (dynamic based on current route)
- Right side: "CONFIDENTIAL" badge (use shadcn Badge component, destructive or outline variant in red/zinc)
- Centered or left-aligned: "Phase 1 Discovery Intelligence Report" as subtitle text (text-sm text-zinc-500)

Update `src/App.tsx` to use AppLayout as the wrapper with React Router.
  </action>
  <verify>
Run `npm run dev` — sidebar visible on left with dark background, header visible on top.
Run `npm run build` — no errors.
  </verify>
  <done>
Sidebar renders with dark zinc-900 background, three nav links with icons, DriveShop branding. Header shows "CONFIDENTIAL" badge and "Phase 1 Discovery Intelligence Report" subtitle. Layout is fixed sidebar + scrollable content area.
  </done>
</task>

<task type="auto">
  <name>Task 2: Set up React Router with page stubs</name>
  <files>src/App.tsx, src/pages/DashboardPage.tsx, src/pages/RateCardPage.tsx, src/pages/AIScopingPage.tsx</files>
  <action>
Create three stub page components in `src/pages/`:

`DashboardPage.tsx`:
- Heading: "Historical Intelligence Dashboard"
- Placeholder text: "Executive Summary, Cost Analysis, Bid vs Actual, Event Manager Performance tabs coming in Phase 2."

`RateCardPage.tsx`:
- Heading: "Rate Card Explorer"
- Placeholder text: "136 labor roles with rate ranges and GL codes coming in Phase 2."

`AIScopingPage.tsx`:
- Heading: "AI Scoping Assistant"
- Placeholder text: "Claude-powered event scope estimator coming in Phase 3."

Each stub should use a Card component from shadcn for consistent styling.

In `src/App.tsx`, configure BrowserRouter with routes:
- `/` redirects to `/dashboard` (use Navigate component)
- `/dashboard` → DashboardPage
- `/rate-card` → RateCardPage
- `/ai-assistant` → AIScopingPage

All routes render inside AppLayout. Use an Outlet pattern or nest routes within the layout component.

The Header component should display the correct page title based on the current route. Use `useLocation()` to determine the active page and map paths to titles:
- `/dashboard` → "Historical Intelligence Dashboard"
- `/rate-card` → "Rate Card Explorer"
- `/ai-assistant` → "AI Scoping Assistant"
  </action>
  <verify>
Run `npm run dev`:
- Navigate to `/` → redirects to `/dashboard`
- Click each sidebar link → correct page stub renders, sidebar active state updates
- Header title updates with each route change
- Run `npm run build` — no errors
  </verify>
  <done>
Three page stubs render via React Router. Sidebar nav links route correctly with active state highlighting. Header title updates per route. Default route redirects to dashboard. Build succeeds.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Navigation shell with dark sidebar, header with CONFIDENTIAL badge, three routed page stubs</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit: http://localhost:5173
    3. Confirm: Dark sidebar on left with "DriveShop" branding and three nav links
    4. Click each nav link — page content and header title update, sidebar shows active state
    5. Confirm: "CONFIDENTIAL" badge visible in header
    6. Confirm: "Phase 1 Discovery Intelligence Report" subtitle in header
    7. Confirm: Enterprise aesthetic — no playful colors, clean Stripe/Linear feel
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] `npm run build` succeeds
- [ ] All three routes work with correct page stubs
- [ ] Sidebar active state highlights correctly
- [ ] Header title is dynamic per route
- [ ] CONFIDENTIAL badge visible
- [ ] Enterprise aesthetic maintained
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Human approved visual appearance
- Navigation shell ready for Dashboard, Rate Card, and AI views
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
